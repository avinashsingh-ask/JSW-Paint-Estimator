<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSW Paint Estimator - AI Powered Paint Calculator</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé®</text></svg>">
</head>

<body>
    <!-- Animated Hero Section -->
    <section class="hero-geometric">
        <!-- Gradient Background -->
        <div class="hero-gradient-bg"></div>

        <!-- Floating Animated Shapes -->
        <div class="hero-shapes">
            <div class="elegant-shape shape-1"></div>
            <div class="elegant-shape shape-2"></div>
            <div class="elegant-shape shape-3"></div>
            <div class="elegant-shape shape-4"></div>
            <div class="elegant-shape shape-5"></div>
        </div>

        <!-- Hero Content -->
        <div class="hero-content">
            <div class="hero-logo-container">
                <div class="logo-glow"></div>
                <div class="logo">
                    <!-- JSW Logo Image - Full Logo fills the box -->
                    <img src="/static/jsw-logo.png" alt="JSW Paints" class="logo-img">
                </div>
            </div>

            <h1 class="hero-title">
                <span class="title-line-1">Estimate Your Perfect Paint</span>
                <br>
                <span class="title-line-2">In Minutes, Not Hours</span>
            </h1>

            <p class="hero-subtitle">
                Crafting exceptional digital experiences through innovative design and cutting-edge technology.
            </p>
        </div>

        <!-- Bottom Gradient Fade -->
        <div class="hero-gradient-fade"></div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Tabs Navigation -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="manual">
                    <span class="tab-icon">üìù</span>
                    <span class="tab-label">Manual Estimation</span>
                    <span class="tab-desc">Enter dimensions manually</span>
                </button>
                <button class="tab-btn" data-tab="cv">
                    <span class="tab-icon">üì∏</span>
                    <span class="tab-label">Image Upload</span>
                    <span class="tab-desc">Upload room images</span>
                </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Manual Estimation Tab -->
                <div id="manual-tab" class="tab-pane active">
                    <div class="card">
                        <h2 class="card-title">Room Details</h2>
                        <form id="manual-form" class="estimation-form">
                            <div class="form-grid">
                                <!-- Room Dimensions -->
                                <div class="form-group">
                                    <label for="length">Room Length (feet)</label>
                                    <input type="number" id="length" name="length" min="1" max="100" step="0.1" required
                                        placeholder="12.0">
                                </div>

                                <div class="form-group">
                                    <label for="width">Room Width (feet)</label>
                                    <input type="number" id="width" name="width" min="1" max="100" step="0.1" required
                                        placeholder="10.0">
                                </div>

                                <div class="form-group">
                                    <label for="height">Room Height (feet)</label>
                                    <input type="number" id="height" name="height" min="1" max="20" step="0.1" required
                                        placeholder="10.0">
                                </div>

                                <!-- Doors & Windows -->
                                <div class="form-group">
                                    <label for="num_doors">Number of Doors</label>
                                    <input type="number" id="num_doors" name="num_doors" min="0" max="10" value="1">
                                </div>

                                <div class="form-group">
                                    <label for="num_windows">Number of Windows</label>
                                    <input type="number" id="num_windows" name="num_windows" min="0" max="20" value="2">
                                </div>

                                <!-- Custom Door Dimensions (Optional) -->
                                <details class="dimension-override">
                                    <summary>üìè Customize Door Dimensions (Optional)</summary>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="door_height">Door Height (feet)</label>
                                            <input type="number" id="door_height" name="door_height" min="1" max="15"
                                                step="0.1" placeholder="7.0 (default)">
                                        </div>
                                        <div class="form-group">
                                            <label for="door_width">Door Width (feet)</label>
                                            <input type="number" id="door_width" name="door_width" min="1" max="10"
                                                step="0.1" placeholder="3.0 (default)">
                                        </div>
                                    </div>
                                    <p class="hint-text">üí° Leave empty to use standard door size (7' √ó 3')</p>
                                </details>

                                <!-- Custom Window Dimensions (Optional) -->
                                <details class="dimension-override">
                                    <summary>üìè Customize Window Dimensions (Optional)</summary>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="window_height">Window Height (feet)</label>
                                            <input type="number" id="window_height" name="window_height" min="1"
                                                max="10" step="0.1" placeholder="4.0 (default)">
                                        </div>
                                        <div class="form-group">
                                            <label for="window_width">Window Width (feet)</label>
                                            <input type="number" id="window_width" name="window_width" min="1" max="10"
                                                step="0.1" placeholder="3.0 (default)">
                                        </div>
                                    </div>
                                    <p class="hint-text">üí° Leave empty to use standard window size (4' √ó 3')</p>
                                </details>

                                <!-- Paint Type -->
                                <div class="form-group">
                                    <label for="paint_type">Paint Type</label>
                                    <select id="paint_type" name="paint_type" required>
                                        <option value="interior" selected>Interior Paint</option>
                                        <option value="exterior">Exterior Paint</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Number of Coats - Enhanced Slider -->
                            <div class="form-group coating-selector">
                                <div class="coating-header">
                                    <label for="num_coats">üé® Number of Paint Coats</label>
                                    <div class="coating-value-display">
                                        <span id="coats-value" class="coating-number">2</span>
                                        <span class="coating-label">coat(s)</span>
                                    </div>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="num_coats" name="num_coats" min="1" max="5" value="2"
                                        class="slider" aria-label="Select number of paint coats">
                                    <div class="slider-labels">
                                        <span>1</span>
                                        <span>2</span>
                                        <span>3</span>
                                        <span>4</span>
                                        <span>5</span>
                                    </div>
                                </div>
                                <p class="coating-hint">üí° More coats provide better coverage and durability</p>
                            </div>

                            <!-- Include Ceiling -->
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="include_ceiling" name="include_ceiling">
                                    <span>Paint ceiling as well</span>
                                </label>
                            </div>

                            <!-- Submit Button -->
                            <button type="submit" class="btn btn-primary">
                                <span class="btn-text">Calculate Paint Required</span>
                                <span class="btn-icon">üé®</span>
                            </button>
                        </form>
                    </div>

                    <!-- Results Section -->
                    <div id="manual-results" class="results-section" style="display: none;">
                        <div class="card">
                            <h2 class="card-title">Estimation Results</h2>
                            <div id="manual-results-content"></div>
                        </div>
                    </div>
                </div>

                <!-- CV Estimation Tab -->
                <div id="cv-tab" class="tab-pane">
                    <div class="card">
                        <h2 class="card-title">Upload Room Image</h2>

                        <!-- Upload Mode Toggle -->
                        <div class="upload-mode-selector">
                            <button type="button" class="mode-btn active" data-mode="single">
                                <span class="mode-icon">üì∏</span>
                                <span class="mode-label">Single Wall</span>
                                <span class="mode-desc">Upload one image at a time</span>
                            </button>
                            <button type="button" class="mode-btn" data-mode="multi">
                                <span class="mode-icon">üè†</span>
                                <span class="mode-label">Multi-Wall</span>
                                <span class="mode-desc">Upload 2-4 walls (large rooms)</span>
                            </button>
                            <button type="button" class="mode-btn" data-mode="video">
                                <span class="mode-icon">üé•</span>
                                <span class="mode-label">Video Upload</span>
                                <span class="mode-desc">Room walkthrough video</span>
                            </button>
                            <button type="button" class="mode-btn" data-mode="floorplan">
                                <span class="mode-icon">üìê</span>
                                <span class="mode-label">Floor Plan</span>
                                <span class="mode-desc">Architectural floor plan</span>
                            </button>
                        </div>

                        <form id="cv-form" class="estimation-form">
                            <!-- Single Image Upload (Default) -->
                            <div id="single-upload-section">
                                <div class="upload-area" id="upload-area">
                                    <input type="file" id="room-image" name="image" accept="image/*" hidden>
                                    <div class="upload-content">
                                        <span class="upload-icon">üì∑</span>
                                        <p class="upload-text">Drag & drop room image here</p>
                                        <p class="upload-subtext">or click to browse</p>
                                        <button type="button" class="btn btn-secondary" id="browse-btn">Choose
                                            File</button>
                                    </div>
                                </div>

                                <!-- Image Preview -->
                                <div id="image-preview" class="image-preview" style="display: none;">
                                    <img id="preview-img" src="" alt="Room preview">
                                    <button type="button" class="btn-remove" id="remove-image">√ó</button>
                                </div>
                            </div>

                            <!-- Multi-Wall Upload Section (Hidden by default) -->
                            <div id="multi-wall-section" style="display: none;">
                                <div class="multi-wall-upload-area">
                                    <input type="file" id="multi-wall-images" multiple accept="image/*" hidden>
                                    <div class="upload-content" id="multi-upload-trigger">
                                        <span class="upload-icon">üì∑</span>
                                        <p class="upload-text">Click to select 2-4 wall images</p>
                                        <p class="upload-subtext">Or drag & drop multiple images here</p>
                                        <button type="button" class="btn btn-secondary" id="multi-browse-btn">Choose
                                            Images</button>
                                    </div>
                                </div>

                                <!-- Wall Previews Grid -->
                                <div id="wall-previews-container" style="display: none;">
                                    <h4 style="margin: 1.5rem 0 1rem; color: var(--dark); font-weight: 700;">Uploaded
                                        Walls:</h4>
                                    <div id="wall-previews-grid" class="wall-previews-grid"></div>
                                </div>
                            </div>

                            <!-- Video Upload Section (Hidden by default) -->
                            <div id="video-upload-section" style="display: none;">
                                <div class="video-upload-area">
                                    <input type="file" id="room-video" accept="video/*" hidden>
                                    <div class="upload-content" id="video-upload-trigger">
                                        <span class="upload-icon">üé•</span>
                                        <p class="upload-text">Click to select room walkthrough video</p>
                                        <p class="upload-subtext">Or drag & drop video here (max 50 MB, 30 seconds)</p>
                                        <button type="button" class="btn btn-secondary" id="video-browse-btn">Choose
                                            Video</button>
                                    </div>
                                </div>

                                <!-- Video Preview -->
                                <div id="video-preview-container" style="display: none;">
                                    <h4 style="margin: 1.5rem 0 1rem; color: var(--dark); font-weight: 700;">Video
                                        Preview:</h4>
                                    <div class="video-preview">
                                        <video id="preview-video" controls
                                            style="max-width: 100%; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                            <source id="video-source" type="video/mp4">
                                            Your browser does not support video playback.
                                        </video>
                                        <button type="button" class="btn-remove" id="remove-video">√ó</button>
                                    </div>
                                    <div class="video-info" id="video-info"
                                        style="margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; font-size: 0.9rem;">
                                        <strong>Video Information:</strong>
                                        <div id="video-metadata"></div>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <!-- Floor Plan Upload Section (Hidden by default) -->
                        <div id="floorplan-upload-section" style="display: none;">
                            <div class="upload-area" id="floorplan-upload-area">
                                <input type="file" id="floorplan-image" accept="image/*" hidden>
                                <div class="upload-content">
                                    <span class="upload-icon">üìê</span>
                                    <p class="upload-text">Click to select architectural floor plan</p>
                                    <p class="upload-subtext">Or drag & drop floor plan image here</p>
                                    <button type="button" class="btn btn-secondary" id="floorplan-browse-btn">Choose
                                        Image</button>
                                </div>
                            </div>

                            <!-- Floor Plan Preview -->
                            <div id="floorplan-preview" class="image-preview" style="display: none;">
                                <img id="floorplan-preview-img" src="" alt="Floor plan preview">
                                <button type="button" class="btn-remove" id="remove-floorplan">√ó</button>
                            </div>
                        </div>

                        <!-- Floor Plan Configuration (Shown when floor plan mode is active) -->
                        <div id="floorplan-config-section" style="display: none;">
                            <h3 style="margin: 2rem 0 1rem 0; font-size: 1.2rem; color: var(--dark);">Configuration</h3>
                            <form id="floorplan-form" class="estimation-form">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="floorplan_ceiling_height">Ceiling Height (feet)</label>
                                        <input type="number" id="floorplan_ceiling_height" name="ceiling_height" min="7"
                                            max="20" step="0.1" value="10.0" required>
                                        <small class="hint-text">Standard ceiling height is 10 feet</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="floorplan_paint_type">Paint Type</label>
                                        <select id="floorplan_paint_type" name="paint_type">
                                            <option value="interior" selected>Interior Paint</option>
                                            <option value="exterior">Exterior Paint</option>
                                        </select>
                                    </div>

                                    <div class="form-group coating-selector">
                                        <div class="coating-header">
                                            <label for="floorplan_num_coats">üé® Number of Paint Coats</label>
                                            <div class="coating-value-display">
                                                <span id="floorplan-coats-value" class="coating-number">2</span>
                                                <span class="coating-label">coat(s)</span>
                                            </div>
                                        </div>
                                        <div class="slider-container">
                                            <input type="range" id="floorplan_num_coats" name="num_coats" min="1"
                                                max="5" value="2" class="slider"
                                                aria-label="Select number of paint coats">
                                            <div class="slider-labels">
                                                <span>1</span>
                                                <span>2</span>
                                                <span>3</span>
                                                <span>4</span>
                                                <span>5</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group checkbox-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="floorplan_include_ceiling"
                                                name="include_ceiling">
                                            <span>Paint ceilings as well</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <button type="submit" class="btn btn-primary" id="floorplan-submit-btn" disabled>
                                    <span class="btn-text">Analyze Floor Plan & Calculate Paint</span>
                                    <span class="btn-icon">üîç</span>
                                </button>
                            </form>

                            <!-- Results Section for Floor Plan -->
                            <div id="floorplan-results" class="results-section" style="display: none;">
                                <div class="card">
                                    <h2 class="card-title">Floor Plan Analysis Results</h2>
                                    <div id="floorplan-results-content"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Room Details (for non-floor plan modes) -->
                    <div id="cv-room-details-section">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="room_type">Room Type</label>
                                <select id="room_type" name="room_type" required>
                                    <option value="bedroom">Bedroom</option>
                                    <option value="hall">Hall</option>
                                    <option value="kitchen">Kitchen</option>
                                    <option value="bathroom">Bathroom</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="cv_paint_type">Paint Type</label>
                                <select id="cv_paint_type" name="paint_type">
                                    <option value="interior" selected>Interior Paint</option>
                                    <option value="exterior">Exterior Paint</option>
                                </select>
                            </div>

                            <div class="form-group coating-selector">
                                <div class="coating-header">
                                    <label for="cv_num_coats">üé® Number of Paint Coats</label>
                                    <div class="coating-value-display">
                                        <span id="cv-coats-value" class="coating-number">2</span>
                                        <span class="coating-label">coat(s)</span>
                                    </div>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="cv_num_coats" name="num_coats" min="1" max="5" value="2"
                                        class="slider" aria-label="Select number of paint coats">
                                    <div class="slider-labels">
                                        <span>1</span>
                                        <span>2</span>
                                        <span>3</span>
                                        <span>4</span>
                                        <span>5</span>
                                    </div>
                                </div>
                                <p class="coating-hint">üí° More coats provide better coverage and durability</p>
                            </div>

                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="cv_include_ceiling" name="include_ceiling">
                                    <span>Paint ceiling</span>
                                </label>
                            </div>
                        </div>

                        <!-- Manual Override (Optional) -->
                        <details class="manual-override">
                            <summary>Manual Dimension Override (Optional)</summary>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="cv_length">Length (feet)</label>
                                    <input type="number" id="cv_length" name="length" min="0" step="0.1"
                                        placeholder="Auto-detect">
                                </div>
                                <div class="form-group">
                                    <label for="cv_width">Width (feet)</label>
                                    <input type="number" id="cv_width" name="width" min="0" step="0.1"
                                        placeholder="Auto-detect">
                                </div>
                                <div class="form-group">
                                    <label for="cv_height">Height (feet)</label>
                                    <input type="number" id="cv_height" name="height" min="0" step="0.1"
                                        placeholder="Auto-detect">
                                </div>
                            </div>
                        </details>

                        <!-- Submit Button -->
                        <button type="submit" form="cv-form" class="btn btn-primary" id="cv-submit-btn" disabled>
                            <span class="btn-text">Analyze Image & Calculate Paint</span>
                            <span class="btn-icon">üîç</span>
                        </button>
                    </div>
                </div>
                </form>
            </div>

            <!-- Results Section -->
            <div id="cv-results" class="results-section" style="display: none;">
                <div class="card">
                    <h2 class="card-title">Estimation Results</h2>
                    <div id="cv-results-content"></div>
                </div>
            </div>
        </div>
        </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; JSW Paint Estimator. Powered by AI & OpenCV.</p>
        </div>
    </footer>

    <!-- Loading Overlay with Liquid Animation -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="liquid-loader">
            <div class="liquid-bar" data-index="0">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
            <div class="liquid-bar" data-index="1">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
            <div class="liquid-bar" data-index="2">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
            <div class="liquid-bar" data-index="3">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
            <div class="liquid-bar" data-index="4">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
            <div class="liquid-bar" data-index="5">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
            <div class="liquid-bar" data-index="6">
                <div class="droplet"></div>
                <div class="bar-fill">
                    <div class="surface-tension"></div>
                    <div class="liquid-wave"></div>
                    <div class="shimmer"></div>
                    <div class="bubble"></div>
                </div>
                <div class="base-droplet"></div>
            </div>
        </div>
        <p class="loading-text">Processing...</p>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/manual-estimation.js"></script>
    <script src="js/cv-estimation.js"></script>
    <script src="js/video-upload.js"></script>
    <script src="js/floorplan-estimation.js"></script>
</body>

</html>